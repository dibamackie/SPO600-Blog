<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lab 1: 6502 Bitmap Display</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .navbar {
      background-color: #28a745 !important; /* Green navbar */
    }
    .navbar-brand, .nav-link {
      color: white !important;
    }
    .nav-link.active {
      font-weight: bold;
      text-decoration: underline;
    }
    pre {
      font-family: "Courier New", Courier, monospace;
    }
    .image-container img {
      max-width: 100%; /* Make the image responsive */
      height: auto;
      margin-top: 20px;
    }
  </style>
</head>
<body data-lab="lab1">
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">Diba Makki</a>
            <a class="navbar-brand" href="index.html">My Labs Blog</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">

          </li>
        </ul>
      </div>
    </div>
  </nav>
<body>
  <div class="container">
    <br>
    <br>
    <h1 class="text-center">Lab 2 - Mob Programming</h1>

    <section>
      <h2>Introduction</h2>
      <p>
        In this lab, we introduce Mob Programming, a collaborative form of Pair Programming where a group works on a single piece of code together. The task is to modify a 6502 Assembly Program that moves a 5x5 graphic diagonally around the screen, ensuring it bounces off the edges while experimenting with different movement patterns.
      </p>
    </section>

    <section>
      <h2>1. Setup</h2>
      <p>
        Start by opening <a href="http://6502.cdot.systems" target="_blank">6502 Emulator</a> and pasting the following code:
      </p>
      <pre>
; draw-image-subroutine.6502
; Moves a 5x5 graphic diagonally across the screen

; Zero-page variables
define XPOS $20
define YPOS $21

START:
  LDA #$05
  STA $12       ; IMAGE WIDTH
  STA $13       ; IMAGE HEIGHT

  LDA #$00
  STA XPOS
  STA YPOS

MAINLOOP:
  LDA #<G_O
  STA $10
  LDA #>G_O
  STA $11

  LDA #$10
  LDX XPOS
  LDY YPOS
  JSR DRAW

  LDY #$00
  LDX #$50
DELAY:
  DEY
  BNE DELAY
  DEX
  BNE DELAY

  LDA #<G_BLANK
  STA $10
  LDA #>G_BLANK
  STA $11

  LDA #$10
  LDX XPOS
  LDY YPOS
  JSR DRAW

  INC XPOS
  INC YPOS

  LDA #28
  CMP XPOS
  BNE MAINLOOP

  JMP START
      </pre>
    </section>

    <section>
      <h2>2. Testing the Code</h2>
      <p>
        Click the "Assemble" button and run the code. The speed of execution can be adjusted using the emulatorâ€™s Speed button.
      </p>
    </section>

    <section>
      <h2>3. Modifying X and Y Values</h2>
      <p>
        Change the starting X and Y positions in the code:
      </p>
      <pre>
  LDA #10
  STA XPOS
  LDA #5
  STA YPOS
      </pre>
      <p>
        The graphic will now start from (10,5) and move diagonally.
      </p>
    <p>
        now lets set up the heigh and width:
    </p>
<pre>
    ; Set up the width and height elements of the data structure
  LDA #$05
  STA $12       ; IMAGE WIDTH
  LDA #$06
  STA $13       ; IMAGE HEIGHT
</pre>
<p>
    by adding another LDA after loading and store the first value in accumulator we'll also be able to get a patter of the Yellow X as well if you are also curious you can try it.

</p>

    </section>

    <section>
      <h2>4. Setting Movement and Direction</h2>
      <p>
        To allow movement in different directions, define new variables:
      </p>
      <pre>
define XINC $22  ; X increment (+1 or -1)
define YINC $23  ; Y increment (+1 or -1)
      </pre>
      <p>
        Set initial values:
      </p>
      <pre>
  LDA #$01      ; +1
  STA XINC
  LDA #$FF      ; -1
  STA YINC
      </pre>
      <p>
        Modify the position update logic in the MAINLOOP:
      </p>
      <pre>
  LDA XPOS
  CLC
  ADC XINC
  STA XPOS

  LDA YPOS
  CLC
  ADC YINC
  STA YPOS
      </pre>
      <p>
        The movement is now directional based on XINC and YINC values:
      </p>
      <ul>
        <li><strong>XINC = $01, YINC = $FF</strong>: Moves right and up</li>
        <li><strong>XINC = $FF, YINC = $01</strong>: Moves left and down</li>
        <li><strong>XINC = $01, YINC = $01</strong>: Moves right and down</li>
        <li><strong>XINC = $FF, YINC = $FF</strong>: Moves left and up</li>
      </ul>
    </section>

    <section>
      <h2>5. Example of Movement</h2>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Frame</th>
            <th>XPOS</th>
            <th>YPOS</th>
            <th>Direction</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>1</td><td>10</td><td>5</td><td>Start at (10,5)</td></tr>
          <tr><td>2</td><td>11</td><td>4</td><td>Right and up</td></tr>
          <tr><td>3</td><td>12</td><td>3</td><td>Right and up</td></tr>
          <tr><td>4</td><td>13</td><td>2</td><td>Right and up</td></tr>
        </tbody>
      </table>
    </section>
  <section>
    <h2>6. Horizental and Vertical Movemnet</h2>
    <P>still working on it ...</P>
  </section>
</div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
